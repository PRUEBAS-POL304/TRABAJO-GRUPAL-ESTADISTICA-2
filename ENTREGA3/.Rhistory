knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(rio)
desempleo_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/desempleoBM.csv")
#head(desempleo_df)
desempleo_df = desempleo_df[-c(1:4, 6, 8),] # Borrando filas determinadas
library(dplyr)
desempleojuve <- desempleo_df |>
select('Data Source', '_60') |> # Seleccionando pais y Year
na.omit() # Borrando NAs
# Renombrando las columnas seleccionadas
colnames(desempleojuve) = c("pais", "desempleo")
obeadult_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/ObesidadCIA.csv")
#head(obeadult_df)
obesidad <- obeadult_df |>
select("name", "value") |> # Seleccionando pais y Year
na.omit() # Borrando NAs
#Renombrando las columnas seleccionadas:
colnames(obesidad) = c("pais", "obeadult")
inftransito_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/RoadW.csv")
#head(dataobeadult)
transito <- inftransito_df |>
select("name", "value") |> # Seleccionando pais y Year
na.omit() # Borrando NAs
#Renombrando las columnas seleccionadas:
colnames(transito) = c("pais", "inftransito")
gastoseduc_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/GastosEdu.csv")
#head(gastoseduc)
gastos <- gastoseduc_df |>
select("name", "value") |> # Seleccionando pais y Year
na.omit() # Borrando NAs
# Renombrando las columnas seleccionadas:
colnames(gastos) = c("pais", "gastoseduc")
library(htmltab) # Instalar remotamente:
#install.packages("remotes")
#remotes::install_github("htmltab/htmltab")
library(readr)
library(stringr)
WhereDEMO = list(page = "https://en.wikipedia.org/wiki/Democracy_Index",
xpath = '//*[@id="mw-content-text"]/div[1]/table[6]/tbody')
LiCiv  = htmltab(doc = WhereDEMO$page,
which  = WhereDEMO$xpath,
encoding = "UTF-8")
LiCiv$`Rank >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`Elec­toral pro­cessand plura­lism >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`Func­tioningof govern­ment >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`Poli­ticalpartici­pation >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`Poli­ticalcul­ture >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`.mw-parser-output .tooltip-dotted{border-bottom:1px dotted;cursor:help}Δ Rank >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`Δ Score >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`Overall score >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$`Regime type >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$name = LiCiv$`Country >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes`
LiCiv$`Country >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$LibertadCivil = LiCiv$`Civilliber­ties >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes`
LiCiv$`Civilliber­ties >> Full democracies >> Flawed democracies >> Hybrid regimes >> Authoritarian regimes` <-
NULL
LiCiv$LibertadCivil <- as.numeric(LiCiv$LibertadCivil)
LiCiv$name = trimws(LiCiv$name, which = c("left"), whitespace = "[\\h\\v]")
#head(LiCiv)
LiCiv = na.omit(LiCiv) # Borrando NAs
colnames(LiCiv) = c("pais", "libertadci")
df_1 = merge(desempleojuve, obesidad, by = "pais")
df_2 = merge(transito, gastos, by = "pais")
df_3 = merge(df_2, LiCiv, by = "pais")
df_jose = merge(df_1, df_3, by = "pais")
Modelo1 = lm(desempleo ~ gastoseduc + inftransito + obeadult + libertadci, data = df_jose)
summary(Modelo1)
plot(Modelo1, 1)
plot(Modelo1, 3)
plot(Modelo1, 2)
inverex_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/inverex.csv")
#head(inverex_df)
inverex_df = inverex_df[-c(1:4), ] # Borrando filas determinadas
library(dplyr)
inverextranjera <- inverex_df |>
select('Data Source', '_60') |> # Seleccionando pais y Year
na.omit() # Borrando NAs
# Renombrando las columnas seleccionadas
colnames(inverextranjera) = c("pais", "inverex")
PBI_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/PBI.csv")
#head(PBI_df)
PBI_df = PBI_df[-c(1:4), ] # Borrando filas determinadas
library(dplyr)
creciPBI <- PBI_df |>
select('Data Source', '_60') |> # Seleccionando pais y Year
na.omit() # Borrando NAs
# Renombrando las columnas seleccionadas
colnames(creciPBI) = c("pais", "PBI")
geseco_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/geseco.csv")
geseco_df = geseco_df[-c(1:4), ] # Borrando filas determinadas
library(dplyr)
gestioneco <- geseco_df |>
select('Data Source', '_60') |> # Seleccionando pais y Year
na.omit() # Borrando NAs
# Renombrando las columnas seleccionadas
colnames(gestioneco) = c("pais", "geseco")
tugurio_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/dfs_E2/tugurio.csv")
tugurio_df = tugurio_df[-c(1:4), ] # Borrando filas determinadas
library(dplyr)
hogartugurio <- tugurio_df |>
select('Data Source', '_60') |> # Seleccionando pais y Year
na.omit() # Borrando NAs
# Renombrando las columnas seleccionadas
colnames(hogartugurio) = c("pais", "tugurio")
df_4 = merge(inverextranjera, creciPBI, by = "pais")
df_5 = merge(gestioneco, hogartugurio, by = "pais") # CAMBIAR LOS NOMBRES DE LOS PAISES DE ESTAS DATAS A INGLES
df_6 = merge(df_4, df_5, by = "pais")
df_joel= merge(df_6, desempleojuve, by = "pais")
df_joel <- na.omit(df_joel)
#str(df_joel)
# Convertir todas las columnas, excepto "pais", en numéricas
df_joel <- df_joel |>
mutate_at(vars(-pais), as.numeric)
#str(df_joel)
#head(df_joel)
df2_joel= merge(df_4, desempleojuve, by = "pais")
modelo2 = lm(desempleo ~ inverex + PBI +  geseco +  tugurio, data = df_joel)
summary(modelo2)
modelo3 = lm(desempleo ~ inverex + PBI, data = df2_joel)
summary(modelo3)
df_7 = merge(df_1, df_2, by = "pais")
df3_joel = merge(df_7, df_4, by = "pais")
write.csv(df3_joel, "df_final.csv", row.names = FALSE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(rio)
data = "https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/ENTREGA2/df_final.csv"
data = import(data)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(rio)
library(dplyr)
library(ggplot2)
library(cowplot)
library(kableExtra)
library(reshape)
library(DT)
library(equatiomatic)
library(modelsummary)
library(factoextra)
library(cluster)
library(lmtest)
library(nortest)
View(data)
variables_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/ENTREGA2/df_final.csv")
View(variables_df)
variables_df[,c(2:7)]=lapply(variables_df[,c(2:7)],as.numeric)
names(data)
str(data)
names(variables_df)
str(variables_df)
View(variables_df)
variables_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/ENTREGA2/df_final.csv")
variables_df = import("https://github.com/luccemhu/TRABAJO-GRUPAL-ESTADISTICA-2/raw/main/ENTREGA2/df_final.csv")
View(variables_df)
modelo1 = lm(desempleo ~ inverex + PBI, data = variables_df)
summary(modelo1)
modelo2 = lm(desempleo ~ inverex + PBI + gastoseduc + inftransito + obeadult,
data = variables_df)
summary(modelo2)
